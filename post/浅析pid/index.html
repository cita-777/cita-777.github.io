<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.145.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="浅析PID"><meta itemprop=description content="分享技术与生活的点滴。"><meta name=description content="分享技术与生活的点滴。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/imgs/cita_avatar.jpg"><meta itemprop=keywords content="单片机,运动控制,算法"><meta property="og:type" content="article"><meta property="og:title" content="浅析PID"><meta property="og:description" content="分享技术与生活的点滴。"><meta property="og:image" content="/imgs/cita_avatar.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/post/%E6%B5%85%E6%9E%90pid/"><meta property="og:site_name" content="Cita's blog"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Cita"><meta property="article:published_time" content="2025-01-09 00:00:00 +0000 UTC"><meta property="article:modified_time" content="2025-01-09 00:00:00 +0000 UTC"><link type=text/css rel=stylesheet href=/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1764727072"><style type=text/css>.post-footer hr:after{content:"~ 我可是有底线的哟 ~"}.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>浅析PID - Cita's blog</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Cita's blog</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>Cita 的博客</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>常用学习/工具网站</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>16</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#1-模拟-pid-控制原理>1 模拟 PID 控制原理</a><ul><li><a href=#模拟-pid-控制系统的原理框图>模拟 PID 控制系统的原理框图</a></li><li><a href=#pid-控制器的三个部分>PID 控制器的三个部分</a><ul><li><a href=#比例部分proportion>比例部分（Proportion）</a></li><li><a href=#积分部分integral>积分部分（Integral）</a></li><li><a href=#微分部分differential>微分部分（Differential）</a></li></ul></li><li><a href=#pid-控制器的综合作用>PID 控制器的综合作用</a></li><li><a href=#总结>总结</a></li><li><a href=#2-数字-pid-控制><strong>2. 数字 PID 控制</strong></a><ul><li><a href=#位置式-全量式pid-算法><strong>位置式 （全量式）PID 算法</strong></a><ul><li><a href=#离散化处理><strong>离散化处理</strong></a></li><li><a href=#位置式-全量式-pid-的数学表达式><strong>位置式 （全量式） PID 的数学表达式</strong></a></li><li><a href=#位置式-pid-的特点><strong>位置式 PID 的特点</strong></a></li></ul></li><li><a href=#22-增量式-pid-算法><strong>2.2 增量式 PID 算法</strong></a><ul><li><a href=#增量式-pid-的定义><strong>增量式 PID 的定义</strong></a></li><li><a href=#增量式-pid-的推导><strong>增量式 PID 的推导</strong></a></li><li><a href=#增量式-pid-的特点><strong>增量式 PID 的特点</strong></a></li><li><a href=#增量式-pid-的递推公式><strong>增量式 PID 的递推公式</strong></a></li></ul></li><li><a href=#总结-1><strong>总结</strong></a><ul><li><a href=#为什么增量式-pid-在计算机故障时更稳定><strong>为什么增量式 PID 在计算机故障时更稳定？</strong></a><ul><li><a href=#1不依赖历史误差的累积>（1）<strong>不依赖历史误差的累积</strong></a></li><li><a href=#2增量输出的平滑性>（2）<strong>增量输出的平滑性</strong></a></li><li><a href=#3故障恢复能力强>（3）<strong>故障恢复能力强</strong></a></li></ul></li><li><a href=#增量式-pid-的其他优点>增量式 PID 的其他优点</a></li></ul></li><li><a href=#231-凑试法><strong>2.3.1 凑试法</strong></a><ul><li><a href=#什么是凑试法><strong>什么是凑试法？</strong></a></li><li><a href=#凑试法的步骤><strong>凑试法的步骤：</strong></a><ul><li><a href=#第一步整定比例系数-k_><strong>第一步：整定比例系数 $K_p$（纯比例控制）</strong></a></li><li><a href=#第二步引入积分作用-t_><strong>第二步：引入积分作用 $T_i$（PI控制）</strong></a></li><li><a href=#第三步引入微分作用-t_><strong>第三步：引入微分作用 $T_d$（PID控制）</strong></a></li></ul></li><li><a href=#通俗理解><strong>通俗理解：</strong></a></li><li><a href=#注意事项><strong>注意事项：</strong></a></li><li><a href=#总结-2><strong>总结：</strong></a></li></ul></li><li><a href=#临界比例法><strong>临界比例法</strong></a><ul><li><a href=#1-什么是临界比例法><strong>1. 什么是临界比例法？</strong></a></li><li><a href=#2-临界比例法的步骤><strong>2. 临界比例法的步骤：</strong></a><ul><li><a href=#第一步设置初始参数>第一步：设置初始参数</a></li><li><a href=#第二步增大比例系数-k_p找到临界点>第二步：增大比例系数 $K_p$，找到临界点</a></li><li><a href=#第三步计算控制器参数>第三步：计算控制器参数</a></li></ul></li><li><a href=#3-临界比例法的注意事项><strong>3. 临界比例法的注意事项：</strong></a></li><li><a href=#4-通俗理解><strong>4. 通俗理解：</strong></a></li></ul></li><li><a href=#ziegler-nichols-法进行pid参数整定的基本原理><strong>Ziegler-Nichols 法进行PID参数整定的基本原理</strong></a><ul><li><a href=#临界比例度法的步骤><strong>临界比例度法的步骤</strong></a><ul><li><a href=#步骤-1仅使用比例控制><strong>步骤 1：仅使用比例控制</strong></a></li><li><a href=#步骤-2计算-pid-参数><strong>步骤 2：计算 PID 参数</strong></a></li></ul></li><li><a href=#z-n-法与增量式-pid-的结合><strong>Z-N 法与增量式 PID 的结合</strong></a></li><li><a href=#z-n-法与增量式-pid-的结合示例><strong>Z-N 法与增量式 PID 的结合示例</strong></a></li><li><a href=#总结-3><strong>总结</strong></a></li></ul></li><li><a href=#信号采样周期选择>信号采样周期选择</a></li></ul></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Cita src=/imgs/img-lazy-loading.gif data-src=/imgs/cita_avatar.jpg><p class=site-author-name itemprop=name>Cita</p><div class=site-description itemprop=description>分享技术与生活的点滴。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>16</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>6</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>29</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/cita-777 title="Github → https://github.com/cita-777" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=mailto:juricek.chen@gmail.com title="G-Mail → mailto:juricek.chen@gmail.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
G-Mail</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2024-10-06 00:00:00 +0000 UTC"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=86693></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=182></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2025-03-21 00:00:00 +0000 UTC"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=goto-i18n-translate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/cita-777 rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/post/%E6%B5%85%E6%9E%90pid/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/cita_avatar.jpg"><meta itemprop=name content="Cita"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Cita"><meta itemprop=description content="分享技术与生活的点滴。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="浅析PID"><meta itemprop=description content="浅析PID

参考学习SUNPLUS 《PID 调节控制做电机速度控制》后总结，在线阅读链接如下：


    1343214947-695804.pdf
    
    
    

PID 控制器是一种广泛应用于工业控制系统的控制器，它通过将偏差的比例（Proportion）、积分（Integral）和微分（Differential）三个部分进行线性组合，生成控制量，从而对被控对象进行控制。PID 控制器的核心思想是通过对系统偏差的实时调整，使系统的输出尽可能接近期望值。"></span><header class=post-header><h1 class=post-title itemprop="name headline">浅析PID
<a href=https://github.com/cita-777/blog.source/tree/main/content/post/%e6%b5%85%e6%9e%90PID/index.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2025年01月09日 00:00:00 CST" itemprop="dateCreated datePublished" datetime="2025-01-09 00:00:00 +0000 UTC">2025年01月09日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/mcu/ itemprop=url rel=index><span itemprop=name>MCU</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>7011</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>14分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/%E6%B5%85%E6%9E%90pid/><i class="fa fa-sync fa-spin"></i>
</span></span><span class=post-meta-item title><span class=post-meta-item-icon><i class="fas fa-solid fa-comments"></i>
</span><span class=post-meta-item-text title=评论>评论：
</span><span id=comments-count data-path=/post/%E6%B5%85%E6%9E%90pid/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><div class=post-expired-tip id=post-expired-tip><div class=post-expired-title><i class="fa-solid fa-hourglass-half"></i>
<span>温馨提醒</span></div><div id=post-expired-content class=post-expired-content></div></div><h1 id=浅析pid>浅析PID
<a class=header-anchor href=#%e6%b5%85%e6%9e%90pid></a></h1><p>参考学习SUNPLUS <strong>《PID</strong> 调节控制做电机速度控制》后总结，在线阅读链接如下：</p><p><a href=https://u.dianyuan.com/upload/space/2012/07/25/1343214947-695804.pdf title=1343214947-695804.pdf rel="noopener external nofollow noreferrer" target=_blank class=exturl>1343214947-695804.pdf
<i class="fa fa-external-link-alt"></i></a></p><p>PID 控制器是一种广泛应用于工业控制系统的控制器，它通过将偏差的比例（Proportion）、积分（Integral）和微分（Differential）三个部分进行线性组合，生成控制量，从而对被控对象进行控制。PID 控制器的核心思想是通过对系统偏差的实时调整，使系统的输出尽可能接近期望值。</p><a id=more></a><h2 id=1-模拟-pid-控制原理>1 模拟 PID 控制原理
<a class=header-anchor href=#1-%e6%a8%a1%e6%8b%9f-pid-%e6%8e%a7%e5%88%b6%e5%8e%9f%e7%90%86></a></h2><h3 id=模拟-pid-控制系统的原理框图>模拟 PID 控制系统的原理框图
<a class=header-anchor href=#%e6%a8%a1%e6%8b%9f-pid-%e6%8e%a7%e5%88%b6%e7%b3%bb%e7%bb%9f%e7%9a%84%e5%8e%9f%e7%90%86%e6%a1%86%e5%9b%be></a></h3><p>如图 1-2 所示，模拟 PID 控制系统由 PID 控制器和被控对象（如电机）组成。系统的输入是给定值 ($r(t)$)，输出是实际输出值 ($y(t)$)，偏差 ($e(t) = r(t) - y(t)$) 作为 PID 控制器的输入，控制器的输出 ($u(t)$) 作为被控对象的输入。</p><p>PID 控制器的控制规律可以用以下公式表示：</p><p>$$ u(t) = K_p \left[ e(t) + \frac{1}{T_i} \int_0^t e(\tau) d\tau + T_d \frac{de(t)}{dt} \right] $$</p><p>如何理解呢？</p><p>其中：</p><ul><li>$K_p$：比例系数，决定比例控制的强度。</li><li>$T_i$：积分时间，决定积分控制的强度。</li><li>$T_d$：微分时间，决定微分控制的强度。</li></ul><h3 id=pid-控制器的三个部分>PID 控制器的三个部分
<a class=header-anchor href=#pid-%e6%8e%a7%e5%88%b6%e5%99%a8%e7%9a%84%e4%b8%89%e4%b8%aa%e9%83%a8%e5%88%86></a></h3><h4 id=比例部分proportion>比例部分（Proportion）
<a class=header-anchor href=#%e6%af%94%e4%be%8b%e9%83%a8%e5%88%86proportion></a></h4><p>比例部分的数学表达式为：</p><p>$$ K_p \cdot e(t) $$</p><p>作用：比例控制的作用是对偏差瞬间作出反应。偏差一旦产生，控制器立即产生控制作用，使控制量向减少偏差的方向变化。</p><p>特点：</p><ul><li>比例系数 ($K_p$) 越大，控制作用越强，系统的响应速度越快，静态偏差越小。</li><li>但 $K_p$ 过大会导致系统振荡，破坏系统的稳定性。</li></ul><p>总结：比例控制能够快速响应偏差，但过大的比例系数会导致系统不稳定。</p><h4 id=积分部分integral>积分部分（Integral）
<a class=header-anchor href=#%e7%a7%af%e5%88%86%e9%83%a8%e5%88%86integral></a></h4><p>积分部分的数学表达式为：</p><p>$$ \frac{K_p}{T_i} \int_0^t e(\tau) d\tau $$</p><p>作用：积分控制的作用是消除系统的稳态误差。只要存在偏差，积分控制的作用就会不断增加，直到偏差为零。</p><p>特点：</p><ul><li>积分时间 ($T_i$) 越大，积分作用越弱，系统的响应速度变慢，但可以减少超调量，提高系统的稳定性。</li><li>积分时间 ($T_i$) 越小，积分作用越强，系统的响应速度加快，但可能会引起系统振荡。</li></ul><p>总结：积分控制能够消除系统的稳态误差，但会降低系统的响应速度，并可能引起超调。</p><h4 id=微分部分differential>微分部分（Differential）
<a class=header-anchor href=#%e5%be%ae%e5%88%86%e9%83%a8%e5%88%86differential></a></h4><p>微分部分的数学表达式为：</p><p>$$ K_p \cdot T_d \cdot \frac{de(t)}{dt} $$</p><p>作用：微分控制的作用是根据偏差的变化趋势进行控制。它能够在偏差变化的瞬间提前给出控制信号，抑制系统的超调和振荡。</p><p>特点：</p><ul><li>微分时间 ($T_d$) 越大，微分作用越强，能够有效抑制系统的超调和振荡。</li><li>但微分控制对噪声敏感，噪声较大的系统中应谨慎使用微分控制。</li></ul><p>总结：微分控制能够加快系统的响应速度，减少超调，但对噪声敏感。</p><h3 id=pid-控制器的综合作用>PID 控制器的综合作用
<a class=header-anchor href=#pid-%e6%8e%a7%e5%88%b6%e5%99%a8%e7%9a%84%e7%bb%bc%e5%90%88%e4%bd%9c%e7%94%a8></a></h3><p>PID 控制器通过比例、积分和微分三个部分的组合，能够实现对系统的快速、稳定和精确控制：</p><ul><li>比例控制：快速响应偏差，减少静态误差。</li><li>积分控制：消除稳态误差，确保系统最终达到期望值。</li><li>微分控制：抑制系统的超调和振荡，提高系统的稳定性。</li></ul><p>从模拟 PID 到数字 PID 随着计算机技术的发展，模拟 PID 控制逐渐被数字 PID 控制取代。数字 PID 控制通过将模拟 PID 控制规律进行离散化处理，能够在计算机中实现 PID 控制算法。数字 PID 控制具有以下优点：</p><ul><li>灵活性：可以通过软件调整 PID 参数，适应不同的控制需求。</li><li>精度：数字控制能够实现高精度的控制。</li><li>抗干扰：数字控制对噪声和干扰的抑制能力更强。</li></ul><h3 id=总结>总结
<a class=header-anchor href=#%e6%80%bb%e7%bb%93></a></h3><p>PID 控制器通过比例、积分和微分三个部分的组合，能够实现对系统的快速、稳定和精确控制。比例控制负责快速响应偏差，积分控制负责消除稳态误差，微分控制负责抑制系统的超调和振荡。通过合理调整 PID 参数，可以使系统达到最佳的控制效果。</p><h3 id=2-数字-pid-控制><strong>2. 数字 PID 控制</strong>
<a class=header-anchor href=#2-%e6%95%b0%e5%ad%97-pid-%e6%8e%a7%e5%88%b6></a></h3><p>数字 PID 控制是通过计算机实现的 PID 控制算法。与模拟 PID 控制不同，数字 PID 控制是基于离散时间采样的控制方式，因此需要对连续的 PID 控制规律进行离散化处理。数字 PID 控制算法主要分为两种：<strong>位置式 PID</strong> 和 <strong>增量式 PID</strong>。</p><hr><h4 id=位置式-全量式pid-算法><strong>位置式 （全量式）PID 算法</strong>
<a class=header-anchor href=#%e4%bd%8d%e7%bd%ae%e5%bc%8f-%e5%85%a8%e9%87%8f%e5%bc%8fpid-%e7%ae%97%e6%b3%95></a></h4><h5 id=离散化处理><strong>离散化处理</strong>
<a class=header-anchor href=#%e7%a6%bb%e6%95%a3%e5%8c%96%e5%a4%84%e7%90%86></a></h5><p>由于计算机控制是采样控制，系统只能在每个采样时刻根据当前的偏差计算控制量，而不能像模拟控制那样连续输出控制量。因此，模拟 PID 控制中的积分和微分项需要进行离散化处理。离散化处理的方法为：以<em>T</em> 作为采样周期， 作为采样序号，则离散采样时间对应着连续时间 ，用矩形法数值积分近似代替积分，用一阶后向差分近似代替微分，可作如下近似变换
$$
t \approx kT \qquad (k = 0, 1, 2, \ldots)
$$</p><p>$$
\int_0^t e(t) , dt \approx T \sum_{j=0}^{k} e(jT) = T \sum_{j=0}^{k} e_j
$$</p><p>$$
\frac{de(t)}{dt} \approx \frac{e(kT) - e[(k-1)T]}{T} = \frac{e_k - e_{k-1}}{T}
$$</p><p>容易联想到，这里使用中矩形法和一阶向后差分代替微分，此处的后是后方的意思，对应的是计算方法中的向前差分，那么，是否可以用三点向前公式来提高微分部分或者用牛顿-科特斯等其他方法替代呢？事实上是可以的，大部分比赛使用均为普通PID，下限高上限低，这种方法上限理论上会高一些，但调参压力应该会大很多，有没有必要在比赛中运用，效果有待测试。</p><p><a href=https://ieeexplore.ieee.org/document/9702931 title="基于 Runge-Kutta 模型的耦合四水箱系统自适应 PID 控制器应用 | IEEE 会议出版物 | IEEE Xplore &mdash; Runge-Kutta Model-Based Adaptive PID Controller Applied to a 4 Coupled-tank System | IEEE Conference Publication | IEEE Xplore" rel="noopener external nofollow noreferrer" target=_blank class=exturl>基于 Runge-Kutta 模型的耦合四水箱系统自适应 PID 控制器应用 | IEEE 会议出版物 | IEEE Xplore &mdash; Runge-Kutta Model-Based Adaptive PID Controller Applied to a 4 Coupled-tank System | IEEE Conference Publication | IEEE Xplore
<i class="fa fa-external-link-alt"></i></a></p><p><strong>龙格-库塔法 vs 自适应积分法 vs 校正欧拉公式 vs 三点公式 vs 牛顿-科特斯公式</strong></p><table><thead><tr><th style=text-align:left><strong>特性</strong></th><th style=text-align:left><strong>三点公式（微分）</strong></th><th style=text-align:left><strong>牛顿-科特斯公式（积分）</strong></th><th style=text-align:left><strong>校正欧拉公式（积分）</strong></th><th style=text-align:left><strong>自适应积分法（积分）</strong></th><th style=text-align:left><strong>龙格-库塔法（积分）</strong></th></tr></thead><tbody><tr><td style=text-align:left><strong>精度</strong></td><td style=text-align:left>高（优于一阶差分）</td><td style=text-align:left>高（梯形法和辛普森法优于矩形法）</td><td style=text-align:left>较高（接近梯形法，优于矩形法）</td><td style=text-align:left>高（动态调整步长，精度最高）</td><td style=text-align:left>非常高（四阶龙格-库塔法误差为 $O(h4)$）</td></tr><tr><td style=text-align:left><strong>噪声敏感性</strong></td><td style=text-align:left>较低（中心差分对噪声不敏感）</td><td style=text-align:left>较高（对噪声敏感，可能需要滤波）</td><td style=text-align:left>较高（对噪声敏感，可能需要滤波）</td><td style=text-align:left>较高（对噪声敏感，可能需要滤波）</td><td style=text-align:left>较高（对噪声敏感，可能需要滤波）</td></tr><tr><td style=text-align:left><strong>计算复杂度</strong></td><td style=text-align:left>低（只需当前和前或后两个点的数据）</td><td style=text-align:left>较高（尤其是辛普森法）</td><td style=text-align:left>适中（比辛普森法低，比矩形法高）</td><td style=text-align:left>高（动态调整步长，计算量较大）</td><td style=text-align:left>高（每一步需计算多个中间值）</td></tr><tr><td style=text-align:left><strong>实时性</strong></td><td style=text-align:left>受限（需要未来数据）</td><td style=text-align:left>较好（只需当前和过去数据）</td><td style=text-align:left>较好（只需当前和过去数据）</td><td style=text-align:left>较差（动态调整步长，计算量大）</td><td style=text-align:left>较差（计算量大，不适合实时系统）</td></tr><tr><td style=text-align:left><strong>存储需求</strong></td><td style=text-align:left>低（只需存储少量数据）</td><td style=text-align:left>较高（尤其是辛普森法需要更多历史数据）</td><td style=text-align:left>适中（需要存储当前和过去数据）</td><td style=text-align:left>高（需要存储中间计算结果）</td><td style=text-align:left>高（需要存储中间计算结果）</td></tr><tr><td style=text-align:left><strong>适用场景</strong></td><td style=text-align:left>动态变化较快的系统</td><td style=text-align:left>误差变化较平滑的系统</td><td style=text-align:left>实时性要求较高的系统</td><td style=text-align:left>高精度要求的复杂系统</td><td style=text-align:left>高精度要求的复杂系统</td></tr></tbody></table><p>还是先回到最初的地方。</p><ul><li><strong>采样周期 $ T $</strong>：计算机每隔 $ T $ 时间采样一次系统的偏差。</li><li><strong>采样序号 $ k $</strong>：表示第 $ k $ 次采样时刻，$ k = 0, 1, 2, \dots $。</li><li><strong>离散时间 $ kT $</strong>：对应连续时间 $ t $。</li></ul><p>通过离散化处理，积分和微分项可以近似表示为：</p><ul><li><strong>积分项</strong>：用矩形法数值积分近似代替连续积分。</li><li><strong>微分项</strong>：用一阶后向差分近似代替连续微分。</li></ul><p>离散化后的 PID 控制规律为：</p><p>$$
u_k = K_p \left[ e_k + \frac{T}{T_i} \sum_{j=0}^k e_j + T_d \frac{e_k - e_{k-1}}{T} \right]
$$</p><p>其中：</p><ul><li>$ u_k $：第 $ k $ 次采样时刻的控制量。</li><li>$ e_k $：第 $ k $ 次采样时刻的偏差。</li><li>$ e_{k-1} $：第 $ k-1 $ 次采样时刻的偏差。</li><li>$ K_p $：比例系数。</li><li>$ T_i $：积分时间。</li><li>$ T_d $：微分时间。</li></ul><h5 id=位置式-全量式-pid-的数学表达式><strong>位置式 （全量式） PID 的数学表达式</strong>
<a class=header-anchor href=#%e4%bd%8d%e7%bd%ae%e5%bc%8f-%e5%85%a8%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e6%95%b0%e5%ad%a6%e8%a1%a8%e8%be%be%e5%bc%8f></a></h5><p>位置式 PID 的数学表达式可以写成：</p><p>$$
u_k = K_p e_k + K_i \sum_{j=0}^k e_j + K_d (e_k - e_{k-1})
$$</p><p>其中：</p><ul><li>$ K_i = \frac{K_p T}{T_i} $：积分系数。</li><li>$ K_d = \frac{K_p T_d}{T} $：微分系数。</li></ul><h5 id=位置式-pid-的特点><strong>位置式 PID 的特点</strong>
<a class=header-anchor href=#%e4%bd%8d%e7%bd%ae%e5%bc%8f-pid-%e7%9a%84%e7%89%b9%e7%82%b9></a></h5><p>如果采样周期足够小，则前面两个公式的近似计算可以获得足够精确的结果，离散控制过程与连续过程十分接近。</p><ul><li><strong>全量输出</strong>：位置式 PID 直接输出控制量的绝对值，因此每次输出都与过去的状态有关。</li><li><strong>计算量大</strong>：由于需要对偏差进行累加，计算量较大。</li><li><strong>风险</strong>：如果计算机出现故障，控制量的突变会导致执行机构的剧烈变化，可能引发生产事故。增量式PID可以避免这种现象。</li></ul><hr><h4 id=22-增量式-pid-算法><strong>2.2 增量式 PID 算法</strong>
<a class=header-anchor href=#22-%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%ae%97%e6%b3%95></a></h4><h5 id=增量式-pid-的定义><strong>增量式 PID 的定义</strong>
<a class=header-anchor href=#%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e5%ae%9a%e4%b9%89></a></h5><p>增量式 PID 是指数字控制器的输出是控制量的增量 $ \Delta u_k $，而不是控制量的绝对值。增量式 PID 适用于执行机构需要增量控制的系统。</p><h5 id=增量式-pid-的推导><strong>增量式 PID 的推导</strong>
<a class=header-anchor href=#%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e6%8e%a8%e5%af%bc></a></h5><p>增量式 PID 可以通过位置式 PID 推导出来。首先，写出第 $ k-1 $ 次采样时刻的控制量：</p><p>$$
u_{k-1} = K_p e_{k-1} + K_i \sum_{j=0}^{k-1} e_j + K_d (e_{k-1} - e_{k-2})
$$</p><p>然后将位置式 PID 的第 $ k $ 次控制量 $ u_k $ 与第 $ k-1 $ 次控制量 $ u_{k-1} $ 相减，得到增量式 PID 的表达式：</p><p>$$
\Delta u_k = u_k - u_{k-1} = K_p (e_k - e_{k-1}) + K_i e_k + K_d (e_k - 2e_{k-1} + e_{k-2})
$$</p><p>进一步整理后，增量式 PID 的公式为：</p><p>$$
\Delta u_k = A e_k + B e_{k-1} + C e_{k-2}
$$</p><p>其中：</p><ul><li>$ A = K_p \left(1 + \frac{T}{T_i} + \frac{T_d}{T}\right) $</li><li>$ B = -K_p \left(1 + \frac{2T_d}{T}\right) $</li><li>$ C = K_p \frac{T_d}{T} $</li></ul><h5 id=增量式-pid-的特点><strong>增量式 PID 的特点</strong>
<a class=header-anchor href=#%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e7%89%b9%e7%82%b9></a></h5><ul><li><strong>增量输出</strong>：增量式 PID 输出的是控制量的增量，而不是绝对值。</li><li><strong>计算量小</strong>：只需要当前和前两次的偏差值和唯一确定的$A$$B$$C$，计算量较小。</li><li><strong>安全性高</strong>：即使计算机出现故障，控制量的变化也不会太大，避免了执行机构的剧烈变化。</li></ul><h5 id=增量式-pid-的递推公式><strong>增量式 PID 的递推公式</strong>
<a class=header-anchor href=#%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e9%80%92%e6%8e%a8%e5%85%ac%e5%bc%8f></a></h5><p>增量式 PID 可以通过递推公式实现位置式 PID 的控制：</p><p>$$
u_k = u_{k-1} + \Delta u_k
$$</p><p>这种递推公式在计算机控制中广泛应用。</p><h4 id=总结-1><strong>总结</strong>
<a class=header-anchor href=#%e6%80%bb%e7%bb%93-1></a></h4><h5 id=为什么增量式-pid-在计算机故障时更稳定><strong>为什么增量式 PID 在计算机故障时更稳定？</strong>
<a class=header-anchor href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e5%9c%a8%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%95%85%e9%9a%9c%e6%97%b6%e6%9b%b4%e7%a8%b3%e5%ae%9a></a></h5><h6 id=1不依赖历史误差的累积>（1）<strong>不依赖历史误差的累积</strong>
<a class=header-anchor href=#1%e4%b8%8d%e4%be%9d%e8%b5%96%e5%8e%86%e5%8f%b2%e8%af%af%e5%b7%ae%e7%9a%84%e7%b4%af%e7%a7%af></a></h6><ul><li><p>在位置式 PID 中，积分项是对历史误差的累积：</p><p>u(k)=Kpe(k)+Ki∑i=0ke(i)+Kd[e(k)−e(k−1)]<em>u</em>(<em>k</em>)=<em>K<strong>p</strong>e</em>(<em>k</em>)+<em>K<strong>i</strong>i</em>=0∑<em>k**e</em>(<em>i</em>)+<em>K**d</em>[<em>e</em>(<em>k</em>)−<em>e</em>(<em>k</em>−1)]</p><p>如果计算机故障导致历史误差数据丢失，积分项会突然变化，导致控制量 u(k)<em>u</em>(<em>k</em>) 发生剧烈波动。</p></li><li><p>在增量式 PID 中，积分项只依赖于当前误差 e(k)<em>e</em>(<em>k</em>)，而不需要累积历史误差：</p><p>Δu(k)=Kp[e(k)−e(k−1)]+Kie(k)+Kd[e(k)−2e(k−1)+e(k−2)]Δ<em>u</em>(<em>k</em>)=<em>K**p</em>[<em>e</em>(<em>k</em>)−<em>e</em>(<em>k</em>−1)]+<em>K<strong>i</strong>e</em>(<em>k</em>)+<em>K**d</em>[<em>e</em>(<em>k</em>)−2<em>e</em>(<em>k</em>−1)+<em>e</em>(<em>k</em>−2)]</p><p>即使计算机故障导致部分数据丢失，增量式 PID 也只影响当前时刻的控制量增量 Δu(k)Δ<em>u</em>(<em>k</em>)，而不会导致控制量 u(k)<em>u</em>(<em>k</em>) 的剧烈变化。</p></li></ul><h6 id=2增量输出的平滑性>（2）<strong>增量输出的平滑性</strong>
<a class=header-anchor href=#2%e5%a2%9e%e9%87%8f%e8%be%93%e5%87%ba%e7%9a%84%e5%b9%b3%e6%bb%91%e6%80%a7></a></h6><ul><li>增量式 PID 的输出是控制量的增量 Δu(k)Δ<em>u</em>(<em>k</em>)，而不是绝对量 u(k)<em>u</em>(<em>k</em>)。即使 Δu(k)Δ<em>u</em>(<em>k</em>) 发生突变，控制量的实际输出 u(k)<em>u</em>(<em>k</em>) 也只是在前一时刻的基础上增加或减少一个较小的量，因此不会出现大幅度变化。</li></ul><h6 id=3故障恢复能力强>（3）<strong>故障恢复能力强</strong>
<a class=header-anchor href=#3%e6%95%85%e9%9a%9c%e6%81%a2%e5%a4%8d%e8%83%bd%e5%8a%9b%e5%bc%ba></a></h6><ul><li>如果计算机故障后恢复正常，增量式 PID 可以从当前状态继续运行，而不需要重新初始化积分项。这种特性使得增量式 PID 在故障恢复后能够快速回到正常工作状态。</li></ul><hr><h5 id=增量式-pid-的其他优点>增量式 PID 的其他优点
<a class=header-anchor href=#%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e5%85%b6%e4%bb%96%e4%bc%98%e7%82%b9></a></h5><p>除了在计算机故障时的稳定性外，增量式 PID 还具有以下优点：</p><ol><li><strong>无积分饱和问题</strong>：<ul><li>位置式 PID 的积分项可能会因为误差的长期累积而导致积分饱和，而增量式 PID 的积分项只依赖于当前误差，因此不会出现积分饱和问题。</li></ul></li><li><strong>易于实现手动/自动切换</strong>：<ul><li>增量式 PID 的输出是控制量的增量，因此可以方便地实现手动控制和自动控制之间的切换。</li></ul></li><li><strong>适合执行器带积分特性的系统</strong>：<ul><li>对于执行器本身具有积分特性（如步进电机）的系统，增量式 PID 更容易实现控制。</li></ul></li></ol><table><thead><tr><th><strong>特性</strong></th><th><strong>位置式 PID</strong></th><th><strong>增量式 PID</strong></th></tr></thead><tbody><tr><td><strong>输出形式</strong></td><td>控制量的绝对值</td><td>控制量的增量</td></tr><tr><td><strong>计算量</strong></td><td>大（需要累加所有偏差）</td><td>小（只需当前和前两次偏差）</td></tr><tr><td><strong>安全性</strong></td><td>低（故障时控制量突变）</td><td>高（故障时控制量变化小）</td></tr><tr><td><strong>适用场景</strong></td><td>需要精确控制位置的系统</td><td>需要增量控制的系统</td></tr></tbody></table><h4 id=231-凑试法><strong>2.3.1 凑试法</strong>
<a class=header-anchor href=#231-%e5%87%91%e8%af%95%e6%b3%95></a></h4><p>凑试法是一种通过逐步调整控制器参数（比例 $K_p$、积分 $T_i$、微分 $T_d$）来优化控制系统性能的方法。它的特点是按照“先比例（P）、再积分（I）、最后微分（D）”的顺序进行调节。下面我用通俗易懂的语言来解释这个过程：</p><hr><h5 id=什么是凑试法><strong>什么是凑试法？</strong>
<a class=header-anchor href=#%e4%bb%80%e4%b9%88%e6%98%af%e5%87%91%e8%af%95%e6%b3%95></a></h5><p>凑试法是通过手动调整控制器的参数，观察系统的响应曲线，逐步找到最佳参数组合的方法。它的核心思想是：</p><ul><li>先调整比例作用 $K_p$，让系统快速响应。</li><li>然后加入积分作用 $T_i$，消除系统的稳态误差。</li><li>最后加入微分作用 $T_d$，抑制系统的超调和振荡。</li></ul><hr><h5 id=凑试法的步骤><strong>凑试法的步骤：</strong>
<a class=header-anchor href=#%e5%87%91%e8%af%95%e6%b3%95%e7%9a%84%e6%ad%a5%e9%aa%a4></a></h5><h6 id=第一步整定比例系数-k_><strong>第一步：整定比例系数 $K_p$（纯比例控制）</strong>
<a class=header-anchor href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e6%95%b4%e5%ae%9a%e6%af%94%e4%be%8b%e7%b3%bb%e6%95%b0-k_></a></h6><ul><li>将控制器的积分时间 $T_i$ 设为无穷大（$T_i = \infty$），相当于关闭积分作用。</li><li>将微分时间 $T_d$ 设为零（$T_d = 0$），相当于关闭微分作用。</li><li>只保留比例作用 $K_p$，并按照经验设置一个初始值。</li><li>将系统投入运行，观察系统的响应曲线。</li><li><strong>由小到大调整 $K_p$</strong>，直到系统的过渡过程曲线呈现出<strong>1/4衰减度</strong>（即每个波峰的幅度是前一个波峰的1/4）。此时的比例系数 $K_p$ 是一个比较合适的值。</li></ul><hr><h6 id=第二步引入积分作用-t_><strong>第二步：引入积分作用 $T_i$（PI控制）</strong>
<a class=header-anchor href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%bc%95%e5%85%a5%e7%a7%af%e5%88%86%e4%bd%9c%e7%94%a8-t_></a></h6><ul><li>在第一步的基础上，将比例系数 $K_p$ 减小到原来的 <strong>5/6</strong>（即 $K_p = \frac{5}{6} K_p$）。</li><li>引入积分作用，将积分时间 $T_i$ 从大到小逐步调整。</li><li>观察系统的响应曲线，直到系统的稳态误差被消除，同时过渡过程曲线仍然保持较好的动态性能。</li></ul><hr><h6 id=第三步引入微分作用-t_><strong>第三步：引入微分作用 $T_d$（PID控制）</strong>
<a class=header-anchor href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e5%bc%95%e5%85%a5%e5%be%ae%e5%88%86%e4%bd%9c%e7%94%a8-t_></a></h6><ul><li>如果需要进一步优化系统性能，可以引入微分作用。</li><li>微分时间 $T_d$ 可以按照经验值设置，或者根据积分时间 $T_i$ 计算，通常取 $T_d = \left( \frac{1}{3} \sim \frac{1}{4} \right) T_i$。</li><li>将 $T_d$ 由小到大逐步调整，观察系统的响应曲线，直到系统的超调和振荡被有效抑制。</li></ul><hr><h5 id=通俗理解><strong>通俗理解：</strong>
<a class=header-anchor href=#%e9%80%9a%e4%bf%97%e7%90%86%e8%a7%a3></a></h5><p>你可以把控制系统想象成开车：</p><ul><li><strong>比例作用 $K_p$</strong>：就像你控制方向盘的力度。如果力度太小，车子会偏离路线；如果力度太大，车子会来回摆动。凑试法就是找到一个合适的力度，让车子既不偏离路线，又不会过度摆动。</li><li><strong>积分作用 $T_i$</strong>：就像你发现车子总是偏向一边，于是你慢慢调整方向盘，直到车子回到正轨。积分作用就是消除系统的“偏差”。</li><li><strong>微分作用 $T_d$</strong>：就像你提前预判路况，轻轻调整方向盘，防止车子突然转向过度。微分作用就是抑制系统的“振荡”。</li></ul><hr><h5 id=注意事项><strong>注意事项：</strong>
<a class=header-anchor href=#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9></a></h5><ul><li><strong>1/4衰减度</strong>：这是凑试法的目标，表示系统的响应曲线在每个周期内衰减到前一个周期的1/4。这种响应既快速又稳定，适合大多数工业控制系统。</li><li><strong>参数调整顺序</strong>：一定要按照“先P、再I、最后D”的顺序调整，否则可能会导致系统不稳定。</li><li><strong>经验值</strong>：在实际应用中，初始参数和调整范围可以基于经验或系统特性进行设置。</li></ul><hr><h5 id=总结-2><strong>总结：</strong>
<a class=header-anchor href=#%e6%80%bb%e7%bb%93-2></a></h5><p>凑试法是一种简单实用的控制器参数整定方法，通过逐步调整 $K_p$、$T_i$、$T_d$，最终让系统的响应既快速又稳定。虽然需要一定的经验和耐心，但它的灵活性和直观性使其在工业控制中广泛应用。</p><hr><h4 id=临界比例法><strong>临界比例法</strong>
<a class=header-anchor href=#%e4%b8%b4%e7%95%8c%e6%af%94%e4%be%8b%e6%b3%95></a></h4><h5 id=1-什么是临界比例法><strong>1. 什么是临界比例法？</strong>
<a class=header-anchor href=#1-%e4%bb%80%e4%b9%88%e6%98%af%e4%b8%b4%e7%95%8c%e6%af%94%e4%be%8b%e6%b3%95></a></h5><p>临界比例法是通过调整控制器的参数（比例系数 $K_p$、积分时间 $T_i$、微分时间 $T_d$），使系统产生等幅振荡，然后根据振荡的特性来计算出最佳的控制器参数。</p><h5 id=2-临界比例法的步骤><strong>2. 临界比例法的步骤：</strong>
<a class=header-anchor href=#2-%e4%b8%b4%e7%95%8c%e6%af%94%e4%be%8b%e6%b3%95%e7%9a%84%e6%ad%a5%e9%aa%a4></a></h5><h6 id=第一步设置初始参数>第一步：设置初始参数
<a class=header-anchor href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e8%ae%be%e7%bd%ae%e5%88%9d%e5%a7%8b%e5%8f%82%e6%95%b0></a></h6><ul><li>将控制器的积分时间 $T_i$ 调到最大（相当于关闭积分作用），微分时间 $T_d$ 设为零（关闭微分作用），只保留比例作用 $K_p$。</li><li>让系统在自动控制下运行一段时间，确保系统处于稳定状态。</li></ul><h6 id=第二步增大比例系数-k_p找到临界点>第二步：增大比例系数 $K_p$，找到临界点
<a class=header-anchor href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%a2%9e%e5%a4%a7%e6%af%94%e4%be%8b%e7%b3%bb%e6%95%b0-k_p%e6%89%be%e5%88%b0%e4%b8%b4%e7%95%8c%e7%82%b9></a></h6><ul><li>逐渐增大比例系数 $K_p$，直到系统开始出现等幅振荡（即系统的输出在某个值附近来回波动，且波动的幅度保持不变）。</li><li>记录下此时的<strong>临界比例系数 $K_u$</strong> 和<strong>临界振荡周期 $T_u$</strong>（即两个波峰之间的时间间隔）。</li></ul><h6 id=第三步计算控制器参数>第三步：计算控制器参数
<a class=header-anchor href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e8%ae%a1%e7%ae%97%e6%8e%a7%e5%88%b6%e5%99%a8%e5%8f%82%e6%95%b0></a></h6><ul><li>根据 $K_u$ 和 $T_u$，使用经验公式计算出控制器的最佳参数 $K_p$、$T_i$ 和 $T_d$。</li><li>按照“先调 $K_p$，再调 $T_i$，最后调 $T_d$”的顺序，将控制器的参数设置到计算值上。</li><li>如果效果还不够理想，可以进一步微调。</li></ul><h5 id=3-临界比例法的注意事项><strong>3. 临界比例法的注意事项：</strong>
<a class=header-anchor href=#3-%e4%b8%b4%e7%95%8c%e6%af%94%e4%be%8b%e6%b3%95%e7%9a%84%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9></a></h5><ul><li><strong>临界比例系数过大</strong>：有些系统的临界比例系数 $K_u$ 可能非常大，导致系统接近“开关控制”（即控制器输出要么最大，要么最小），这对工业生产不利，可能会造成设备频繁启停，影响生产。</li><li><strong>无法产生等幅振荡</strong>：有些系统即使将比例系数 $K_p$ 调到最大，也无法产生等幅振荡。这时，可以将最大刻度值作为临界比例系数 $K_u$ 来进行参数整定。</li></ul><h5 id=4-通俗理解><strong>4. 通俗理解：</strong>
<a class=header-anchor href=#4-%e9%80%9a%e4%bf%97%e7%90%86%e8%a7%a3></a></h5><p>你可以把控制系统想象成一个调节水流的阀门。比例系数 $K_p$ 就像是你调节阀门的力度：</p><ul><li>如果力度太小，水流的变化会很慢，系统反应迟钝。</li><li>如果力度太大，水流会来回波动，系统不稳定。</li><li>临界比例法就是找到一个刚好让水流开始等幅波动的力度（$K_u$），然后根据这个力度和波动的频率（$T_u$），计算出最佳的调节力度（$K_p$）、调节速度（$T_i$）和调节的提前量（$T_d$）。</li></ul><p>通过这种方法，你可以让系统既快速响应，又不会过度波动，达到最佳的控制效果。</p><h4 id=ziegler-nichols-法进行pid参数整定的基本原理><strong>Ziegler-Nichols 法进行PID参数整定的基本原理</strong>
<a class=header-anchor href=#ziegler-nichols-%e6%b3%95%e8%bf%9b%e8%a1%8cpid%e5%8f%82%e6%95%b0%e6%95%b4%e5%ae%9a%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86></a></h4><hr><h5 id=临界比例度法的步骤><strong>临界比例度法的步骤</strong>
<a class=header-anchor href=#%e4%b8%b4%e7%95%8c%e6%af%94%e4%be%8b%e5%ba%a6%e6%b3%95%e7%9a%84%e6%ad%a5%e9%aa%a4></a></h5><p>临界比例度法通过调整比例增益 Kp<em>K**p</em>，使系统产生等幅振荡（临界振荡），然后根据临界振荡的特性确定 PID 参数。</p><h6 id=步骤-1仅使用比例控制><strong>步骤 1：仅使用比例控制</strong>
<a class=header-anchor href=#%e6%ad%a5%e9%aa%a4-1%e4%bb%85%e4%bd%bf%e7%94%a8%e6%af%94%e4%be%8b%e6%8e%a7%e5%88%b6></a></h6><ul><li>按临界比例法得到<strong>临界比例系数 $K_u$</strong> 和<strong>临界振荡周期 $T_u$</strong>（即两个波峰之间的时间间隔），</li></ul><h6 id=步骤-2计算-pid-参数><strong>步骤 2：计算 PID 参数</strong>
<a class=header-anchor href=#%e6%ad%a5%e9%aa%a4-2%e8%ae%a1%e7%ae%97-pid-%e5%8f%82%e6%95%b0></a></h6><p>根据 Z-N 法的推荐公式，计算 PID 控制器的参数：</p><table><thead><tr><th>控制器类型</th><th>$ K_p $</th><th>$ T_i $</th><th>$ T_d $</th></tr></thead><tbody><tr><td>P</td><td>$ 0.5 \cdot K_u $</td><td>-</td><td>-</td></tr><tr><td>PI</td><td>$ 0.45 \cdot K_u $</td><td>$ 0.85 \cdot T_u $</td><td>-</td></tr><tr><td>PID</td><td>$ 0.6 \cdot K_u $</td><td>$ 0.5 \cdot T_u $</td><td>$ 0.12 \cdot T_u $</td></tr></tbody></table><hr><h5 id=z-n-法与增量式-pid-的结合><strong>Z-N 法与增量式 PID 的结合</strong>
<a class=header-anchor href=#z-n-%e6%b3%95%e4%b8%8e%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e7%bb%93%e5%90%88></a></h5><p>增量式 PID 的控制量增量公式为：</p><p>$$
\Delta u(k) = K_p[e(k) - e(k-1)] + \frac{K_p}{T_i}e(k) + K_pT_d[e(k) - 2e(k-1) + e(k-2)]
$$</p><p>其中：</p><ul><li>$ K_i = \frac{K_p}{T_i} $ 是积分系数。</li><li>$ K_d = K_pT_d $ 是微分系数。</li></ul><p>使用 Z-N 法整定参数后，可以将 $ K_p $、$ T_i $、$ T_d $ 代入增量式 PID 公式中，实现控制器的设计。</p><h5 id=z-n-法与增量式-pid-的结合示例><strong>Z-N 法与增量式 PID 的结合示例</strong>
<a class=header-anchor href=#z-n-%e6%b3%95%e4%b8%8e%e5%a2%9e%e9%87%8f%e5%bc%8f-pid-%e7%9a%84%e7%bb%93%e5%90%88%e7%a4%ba%e4%be%8b></a></h5><p>假设通过 Z-N 法得到以下参数：</p><ul><li>临界比例增益 $ K_{cr} = 10 $</li><li>临界振荡周期 $ T_{cr} = 2 $ 秒</li></ul><p>根据 Z-N 法的推荐公式，PID 参数为：</p><p>$$
K_p = 0.6K_{u} = 6, \
T_i = 0.5T_{u} = 1, \
T_d = 0.125T_{u} = 0.25
$$</p><p>因此，增量式 PID 的控制量增量公式为：</p><p>$$
\Delta u(k) = 6[e(k) - e(k-1)] + \frac{6}{1}e(k) + 6 \cdot 0.25 [e(k) - 2e(k-1) + e(k-2)]
$$</p><p>简化后得到：</p><p>$$
\Delta u(k) = 6[e(k) - e(k-1)] + 6e(k) + 1.5[e(k) - 2e(k-1) + e(k-2)]
$$</p><h5 id=总结-3><strong>总结</strong>
<a class=header-anchor href=#%e6%80%bb%e7%bb%93-3></a></h5><ul><li><strong>Z-N 法</strong> 是一种经典的 PID 参数整定方法，通过临界振荡实验确定 $ K_p $、$ T_i $、$ T_d $。</li><li>Z-N 法假设系统是线性的，对于非线性系统可能不适用。</li><li><strong>增量式 PID</strong> 通过计算控制量的增量来调整输出，具有较强的鲁棒性和抗积分饱和能力。</li><li>将 Z-N 法与增量式 PID 结合，可以快速整定控制器参数，并提高系统的稳定性和可靠性。</li></ul><h4 id=信号采样周期选择>信号采样周期选择
<a class=header-anchor href=#%e4%bf%a1%e5%8f%b7%e9%87%87%e6%a0%b7%e5%91%a8%e6%9c%9f%e9%80%89%e6%8b%a9></a></h4><ul><li><strong>香农采样定律</strong>：采样频率必须至少是信号最高频率的两倍，否则信号会失真。</li><li><strong>采样周期的选择</strong>：<ul><li>响应快的系统（如流量、压力）选择较短的采样周期。</li><li>响应慢的系统（如温度、成分）选择较长的采样周期。</li><li>采样周期应远小于干扰信号的周期。</li><li>执行器响应慢时，采样周期可以适当延长。</li><li>计算机性能允许时，采样周期越短，控制效果越好。</li><li>对于滞后大的系统，采样周期通常为滞后时间的1/4～1/8。</li></ul></li></ul></div><footer class=post-footer><div class=post-tags><a href=/tags/%E5%8D%95%E7%89%87%E6%9C%BA/>单片机
</a><a href=/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6/>运动控制
</a><a href=/tags/%E7%AE%97%E6%B3%95/>算法</a></div><div class=post-share-tools><div class=post-share-loading><i class="fa-solid fa-ellipsis fa-spin"></i></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class=a2a_dd href=https://www.addtoany.com/share></a><a class=a2a_button_wechat></a><a class=a2a_button_qzone></a><a class=a2a_button_sina_weibo></a><a class=a2a_button_douban></a><a class=a2a_button_facebook></a><a class=a2a_button_x></a><a class=a2a_button_email></a><a class=a2a_button_printfriendly></a></div></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
浅析PID</li><li class=post-copyright-author><strong>本文作者： </strong>Cita</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=/post/%E6%B5%85%E6%9E%90pid/ title=浅析PID>/post/%E6%B5%85%E6%9E%90pid/</a></li><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A01/ rel=next title=机器学习(1)><i class="fa fa-chevron-left"></i> 机器学习(1)</a></div><div class="post-nav-prev post-nav-item"><a href=/post/cubemx%E4%B8%8B%E7%9A%84freertos/ rel=prev title=CubeMX下的freeRTOS>CubeMX下的freeRTOS
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=waline3-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div id=i18n-translate class=i18n-translate><i class="fa fa-language"></i><div id=lang-select class=lang-select><div id=lang-selected class=selected-option><span class="flag-icon flag-icon-zh-cn"></span>
<span class=selected-language>简体中文</span>
<i class="fa fa-chevron-down"></i></div><div id=lang-options class=lang-options><div class=lang-option lang-code=zh-cn lang-name=简体中文 lang-url=/post/%E6%B5%85%E6%9E%90pid/><span class="flag-icon flag-icon-zh-cn"></span>
<span class=lang-name>简体中文</span></div></div></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2024 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Cita</span></div><div class=vendors-list><a target=_blank href=https://github.com title=Github><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/github.svg alt=Github>
</a><span>提供CDN/云资源支持</span></div></div></footer><script class=next-config data-name=page type=application/json>{"comments":true,"expired":true,"expiredTips":{"info":"🕰️ 嗨，这篇文章已是#前的陈年佳酿，信息可能需要更新，阅读前请检查最佳赏味期限。","warn":"🚀 注意啦！这篇文章来自#以前，可能已跟不上时代的步伐。阅读时请自备时光机，小心穿越哦！"},"isHome":false,"isPage":true,"math":{"js":{"file":"es5/tex-mml-svg.js","name":"mathjax","version":"3.2.2"},"render":"mathjax"},"path":"%E6%B5%85%E6%9E%90pid","permalink":"/post/%E6%B5%85%E6%9E%90pid/","title":"浅析PID","toc":true,"waline3":{"commentcnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/comment.js","name":"comment","version":"3.3.0"},"pagecnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"3.3.0"}}}</script><script type=text/javascript src=/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":true,"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":true,"plugin":"waline3"},"views":{"enable":true,"plugin":"waline3"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":true},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"/js/3rd"}},"version":"4.7.2","waline3":{"cfg":{"emoji":true,"imguploader":true,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o 可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄 (Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"search":true,"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.min.css","name":"waline","version":"3.3.0"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"3.3.0"}}}</script><script type=text/javascript src="/js/main.min.js?=1764727072" defer></script><script type=text/javascript src="/js/math.min.js?=1764727072" defer></script></body></html>